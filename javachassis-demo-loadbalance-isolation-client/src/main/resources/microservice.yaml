APPLICATION_ID: demo-loadbalance-isolation2
service_description:
  name: loadbalance-isolation-client
  version: 0.0.1
cse:
  service:
    registry:
      address: https://cse.cn-north-1.myhuaweicloud.com:443
      instance:
        watch: false
  config:
    client:
      serverUri: https://cse.cn-north-1.myhuaweicloud.com:443
      refreshMode: 1
      refresh_interval: 5000
  monitor:
    client:
      serverUri: https://cse.cn-north-1.myhuaweicloud.com:443
  rest:
    address: 0.0.0.0:18080
  references:
    loadbalance-isolation-server:
      version-rule: 0.0.0+
  isolation:
    Consumer:
      timeout:
        enabled: true
      timeoutInMilliseconds: 1000

  loadbalance:
    serverListFilters: darklaunch
    serverListFilter:
      darklaunch:
        className: com.huawei.paas.darklaunch.DarklaunchServerListFilter
#    isolation:
#      enabled: true
#      errorThresholdPercentage: 50
#      enableRequestThreshold: 3
#      singleTestTime: 5000
#      continuousFailureThreshold: 5
#    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RoundRobinRule
  flowcontrol:
    Consumer:
      qps:
        enabled: true
#        limit:
#          loadbalance-isolation-server.hello.sayHello: 10
##              getStatus: 10
#          loadbalance-isolation-server: 10
  credentials:
    accessKey: ak
    secretKey: sk
    akskCustomCipher: default

servicecomb:
  accesslog:
    enabled: true
    pattern: "%h - - %t %r %s %B %SCB-traceId"