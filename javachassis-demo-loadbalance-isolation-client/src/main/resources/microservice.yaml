APPLICATION_ID: demo-loadbalance-isolation
service_description:
  name: loadbalance-isolation-client
  version: 0.0.1
  properties:
    allowCrossApp: true
  environment: development
cse:
  service:
    registry:
      address: http://127.0.0.1:30100
#  rest:
#    address: 0.0.0.0:18080
  metrics:
    enabled: false
  handler:
    chain:
      Consumer:
        default: loadbalance
  loadbalance:
    isolation:
      enabled: true
      errorThresholdPercentage: 50
      enableRequestThreshold: 3
      singleTestTime: 5000
      continuousFailureThreshold: 5
    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RoundRobinRule

servicecomb:
  accesslog:
    enabled: true
#    pattern: "%D %h - - %t %r %s %B %SCB-traceId %{server}-header}o %{edgeContext}SCB-ctx %{clientContext}SCB-ctx %{serverContext}SCB-ctx"
    pattern: "%{yyyyMMdd-HH:mm:ss.SSS}t [%s] %D(ms) Remote:[%h] - Local:[%v] %SCB-traceId cs-uri"

  references:
    demo-loadbalance-isolation:loadbalance-isolation-server:
        version-rule: 0.0.1
#servicecomb.references.demo-loadbalance-isolation:loadbalance-isolation-server.version-rule: 0.0.1